---
title: "Team ACDC Case Study 6: Spam Ham, Problem 19"
author: "David Josephs, Andy Heroy, Carson Drake, Che' Cobb"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    number_sections: true
    theme: readable
    highlight: haddock
    code_folding: hide
    df_print: paged
    keep_md: TRUE
    fig_width: 10
    fig_height: 10
    fig_retina: true
    fig_caption: true
---


```{r setup, include = F}
knitr::opts_chunk$set(warning = F, message = F, dev = "svg", fig.align = "center")
knitr::opts_chunk$set(tidy = T)
knitr::opts_chunk$set(comment = '#>')
options(digits = 2)

```

# Introduction


## Data Description


```{r dataload}
# we are starting from here, 
# the code used to create the RDA will be shown in the appendix, 
# it seems to run fine on windows but crash on linux
# so this was a good compromise without digging too deeply into the web of 
# lapplys
load("./Data/data.Rda")
emails <- emailDFrp
# probably do the n
# This function...  is strange.
setupRnum = function(data) {
  logicalVars = which(sapply(data, is.logical))
  facVars = lapply(data[ , logicalVars], 
                   function(x) {
                      x = as.numeric(x)
                   })
  cbind(facVars, data[ , - logicalVars])
}

emails = setupRnum(emails)
dim(emails)
emails[is.na(emails)]<-0
df_rpart <- emails
```

# Analysis

## Minimum Split

```{r}
library(rpart)
library(caret)
set.seed(54)
isSpam = table(df_rpart$isSpam)["T"]
isHam = table(df_rpart$isSpam)["F"]

testSpamidx = sample(isSpam, size= floor(isSpam/3))
testHamidx = sample(isHam, size= floor(isHam/3))



#Not sure how to split email as is. Must investigate. 
train.index <- createDataPartition(Data$?????, p = .7, list = FALSE)
train <- Data[ train.index,]
test  <- Data[-train.index,]




```
Minsplit vs ntrees and accuracy/related metrics

## Ratio of minsplit and minbuxkets
normally its 3:1, see what happens

## Complexity and interaction with minsplit

### Lots o trees

### Few o trees

## Maxdepth

### Deep and wide

### Deep and narrow

### Short and wide

### Short and narrow

## Surragets
maybe
##xval
maybe

# Conclusion

Use cases for interesitng chouces
